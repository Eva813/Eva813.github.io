<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>Vue.js 3 -  資料傳遞 props</title><meta name="description" content="Front-end Engineer"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="因為Vue每個元件都是各自獨立，所以我們無法在各自元件去調整資料，而直接修改另一個元件的資料。所以，要使元件之間可以相互溝通，就需要使用資料傳遞方式。在傳遞方式：

外層傳遞內層 : props
內層向外傳遞 : emit當外層元件，要將資料往內層元件丟時，此過程就是使用props。


傳遞資料的方式：靜態資料傳入
預期將外層傳入一個url的變數，傳進給內層使用
photo為內部元件，在template 我希望能夠取得外層傳入的圖片(urlimg)
故在 props 以此命名，並將它綁到 templateapp.component(&amp;#39;photo&amp;#39;, {
  props: [&amp;#39;url&amp;#39;],
  template: `&amp;lt;img :src=&amp;quot;url&amp;quot; c.."><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Let's Code" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Eva's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Vue.js 3 -  資料傳遞 props</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#傳遞資料的方式："><span class="toc-text">傳遞資料的方式：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#靜態資料傳入"><span class="toc-text">靜態資料傳入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#動態資源"><span class="toc-text">動態資源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#資料傳遞為-單向數據流"><span class="toc-text">資料傳遞為 單向數據流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在內部元件，要為props來命名"><span class="toc-text">在內部元件，要為props來命名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#定義-Props-型別驗證"><span class="toc-text">定義 Props 型別驗證</span></a></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/Vue"><i class="tag post-item-tag">Vue</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">Vue.js 3 -  資料傳遞 props</h1><time class="has-text-grey" datetime="2021-09-21T03:42:48.000Z">2021-09-21</time><article class="mt-2 post-content"><p>因為Vue每個元件都是各自獨立，所以我們無法在各自元件去調整資料，而直接修改另一個元件的資料。<br>所以，要使元件之間可以相互溝通，就需要使用資料傳遞方式。<br>在傳遞方式：</p>
<ul>
<li>外層傳遞內層 : props</li>
<li>內層向外傳遞 : emit<br>當外層元件，要將資料往內層元件丟時，此過程就是使用props。</li>
</ul>
<p><img src="https://i.imgur.com/FTbHDPk.png" alt=""></p>
<h2 id="傳遞資料的方式："><a href="#傳遞資料的方式：" class="headerlink" title="傳遞資料的方式："></a>傳遞資料的方式：</h2><h3 id="靜態資料傳入"><a href="#靜態資料傳入" class="headerlink" title="靜態資料傳入"></a>靜態資料傳入</h3><ul>
<li>預期將外層傳入一個url的變數，傳進給內層使用<ul>
<li>photo為內部元件，在template 我希望能夠取得外層傳入的圖片(urlimg)</li>
<li>故在 props 以此命名，並將它綁到 template<pre><code class="javascript">app.component(&#39;photo&#39;, {
  props: [&#39;url&#39;],
  template: `&lt;img :src=&quot;url&quot; class=&quot;img-thumbnail&quot; alt&gt;`
});</code></pre>
</li>
</ul>
</li>
<li>將上方的元件資料，加到外層元件：像是加入html屬性一樣<pre><code class="javascript">&lt;photo
  url=&quot;https://images.unsplash.com/photo-1605784401368-5af1d9d6c4dc?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=80&quot;&gt;
&lt;/photo&gt;</code></pre>
</li>
</ul>
<p><img src="https://i.imgur.com/f079ziY.png" alt=""></p>
<h3 id="動態資源"><a href="#動態資源" class="headerlink" title="動態資源"></a>動態資源</h3><ul>
<li>使用 <code>v-bind</code>，綁定內部元件的props ，使資料可以跟外層元件連動</li>
<li>記得使用口訣： 前內、後外 =&gt;前面就是props內的名稱，後面就是外層元件的名稱<br><img src="https://i.imgur.com/BMVZtkn.png" alt=""><pre><code class="htmlembedded">&lt;h3&gt;動態資源&lt;/h3&gt;
&lt;p&gt;技巧：前內、後外&lt;/p&gt;
&lt;photo v-bind:urlimg=&quot;imgUrl&quot;&gt;&lt;/photo&gt;</code></pre>
</li>
</ul>
<h2 id="資料傳遞為-單向數據流"><a href="#資料傳遞為-單向數據流" class="headerlink" title="資料傳遞為 單向數據流"></a>資料傳遞為 單向數據流</h2><ul>
<li>外部所定義的資料，當往內層傳遞，是單向性</li>
<li>不能試圖使用v-model或各種方式，來改變props傳入的內容<ul>
<li>以下範例：在子元件 <code>photo2</code> 放入 <code>input</code>綁定 <code>v-model</code></li>
<li>當嘗試在輸入框修改網址，會出現錯誤</li>
</ul>
</li>
</ul>
<pre><code class="javascript">//外層元件綁定 url
&lt;photo2 :url=&quot;imgUrl&quot;&gt;&lt;/photo2&gt;</code></pre>
<pre><code class="javascript">const app = Vue.createApp({
    data() {
    return {
      imgUrl: &#39;https://images.unsplash.com/photo-1605784401368-5af1d9d6c4dc?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=80&#39;,
         };
     },
});

 app.component(&#39;photo2&#39;, {
    props: [&#39;url&#39;],
    template: `&lt;img :src=&quot;url&quot; class=&quot;img-thumbnail&quot; alt&gt;&lt;br&gt;
    &lt;input type=&quot;text&quot; v-model=&quot;url&quot;&gt; {{ url }}`
     })</code></pre>
<p><img src="https://i.imgur.com/OmmIxpi.png" alt=""></p>
<p><img src="https://i.imgur.com/2BqCNTp.png" alt=""></p>
<h2 id="在內部元件，要為props來命名"><a href="#在內部元件，要為props來命名" class="headerlink" title="在內部元件，要為props來命名"></a>在內部元件，要為props來命名</h2><p>在命名上有些要注意的地方</p>
<ul>
<li>首字母大寫: PostData、SetItems</li>
<li>駝峰命名法: postData、setItems<br>要注意：在 HTML 中使用時必須使用 kebab-case (短橫線分隔)且應該為小寫。</li>
</ul>
<pre><code class="javascript">&lt;div id=&quot;app&quot;&gt;

 &lt;photo3 :super-url=&quot;imgUrl&quot; &gt;&lt;/photo3&gt;
&lt;/div&gt;

&lt;script&gt;
Vue.component(&quot;photo3&quot;, {
  props: [&quot;superUrl&quot;],
  template: `&lt;img :src=&quot;superUrl&quot; class=&quot;img-thumbnail alt &gt;&quot;`
});
&lt;/script&gt;</code></pre>
<p><img src="https://i.imgur.com/57P1JDW.png" alt=""></p>
<h2 id="定義-Props-型別驗證"><a href="#定義-Props-型別驗證" class="headerlink" title="定義 Props 型別驗證"></a>定義 Props 型別驗證</h2><ul>
<li><p>使用型別驗證，會改用大括號，裡面放入props名稱，並用物件形式加入設定的內容</p>
<ul>
<li><code>props:{
  propC: {
  type: String,
  required: true,
  }
}</code></li>
</ul>
</li>
<li><p>其中，可以針對該props 來設定：</p>
<ul>
<li><p><code>type</code>型別 ： 可以是 String、Number、Boolean、Array、Object、Date、Function、Symbol</p>
</li>
<li><p><code>default</code> ：如果該 prop 沒有接收到傳入的值，就會使用 default 的值作為預設值。</p>
</li>
<li><p><code>required</code> ： 是否為必填項，如果設為 true 則表示必須要有值傳入，若沒有，就會出現錯誤提示。</p>
<pre><code class="javascript">app.component(&#39;props-validation&#39;, {
props: {
// 單一型別檢查，可接受的型別 String, Number, Object, Boolean, Function(在 Vue 中可使用 Function 驗證型別)
// null, undefined 會直接通過驗證
propA: Function,

// 多個型別檢查
propB: [String, Number],

// 必要值
propC: {
  type: String,
  required: true,
},

// 預設值
propD: {
  type: Number,
  default: 300
},

// 自訂函式
propE: {
  type: Object,
  default() {
    return {
      money: 300
    }
  }
},

// 自訂驗證
propF: {
  validator(value) {
    return value &gt; 1000
  }
}, 
},</code></pre>
<p><a href="https://www.hexschool.com/courses/vue3.html" target="_blank" rel="noopener">六角學院</a><br><a href="https://ithelp.ithome.com.tw/articles/10254050" target="_blank" rel="noopener">[DAY12]跟 Vue.js 認識的30天 - Vue 模組資料傳遞(<code>props</code>)</a></p>
</li>
</ul>
</li>
</ul>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2021/09/21/vue-emit/" title="Vue.js 3 -  資料傳遞 emit"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: Vue.js 3 -  資料傳遞 emit</span></a><a class="button is-default" href="/2021/09/20/Vue-modify/" title="Vue.js 3 - v-on 修飾符"><span class="has-text-weight-semibold">Next: Vue.js 3 - v-on 修飾符</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="Haojen/Claudia-theme-blog" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/https://github.com/Eva813"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> Eva 2022</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>